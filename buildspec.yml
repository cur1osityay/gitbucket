version: 0.2
env:
  variables:
    TEST_ENV_VARIABLE: gitbucket.war
phases:
  install:
    runtime-versions:
      java: corretto8
    commands:
      #Install JAVA 8
      #- apt-get install -y openjdk-8-jdk
      #- java -version
      #Install sbt
      - mkdir /working/
      - cd /working/
      - curl -L -o sbt-1.5.7.deb https://repo.scala-sbt.org/scalasbt/debian/sbt-1.5.7.deb
      - dpkg -i sbt-1.5.7.deb
      - rm sbt-1.5.7.deb
      - apt-get update
      - apt-get install sbt
      - cd
      - rm -r /working/
      - sbt sbtVersion
      - echo "Done"
build:
    commands:
      - sbt executable
    artifacts:
      files:
        - target/executable/gitbucket.war
